package ex14;

public class Corde {
	private Position sensUtilisation = null;
	private int cpt = 0;
	
	public synchronized void acceder(Position position) throws InterruptedException{
		while (sensUtilisation != position && sensUtilisation != null){
			wait();
		}
		if (sensUtilisation == null){
			sensUtilisation = position;
		}
		cpt++;
	}
	
	public synchronized void lacher(Position position){
		cpt--;
		if (cpt == 0){
			sensUtilisation = null;
			notifyAll();
		}
	}
}
